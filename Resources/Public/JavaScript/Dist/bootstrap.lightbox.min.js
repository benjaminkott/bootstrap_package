window.addEventListener("DOMContentLoaded",function(){Array.from(document.querySelectorAll("a.lightbox")).forEach(function(o){o.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();var t=o.getAttribute("rel"),e=Array.from(document.querySelectorAll("a.lightbox[rel="+t+"]")).indexOf(o);{var a=t;const n=[];if(Array.from(document.querySelectorAll("a.lightbox[rel="+a+"]")).forEach(function(t){let e=null,i=("lightboxTitle"in t.dataset&&""!==t.dataset.lightboxTitle?e=t.dataset.lightboxTitle:t.hasAttribute("title")&&""!==t.getAttribute("title")&&(e=t.getAttribute("title")),null);"lightboxCaption"in t.dataset&&""!==t.dataset.lightboxCaption?i=t.dataset.lightboxCaption:t.parentNode.querySelector("figcaption")&&""!==t.parentNode.querySelector("figcaption").textContent&&(i=t.parentNode.querySelector("figcaption").textContent),i=i&&i.replace(/(?:\r\n|\r|\n)/g,"<br />"),!e&&i&&(e=i,i=null);var o={id:Array.from(document.querySelectorAll("a.lightbox[rel="+a+"]")).indexOf(t),src:t.getAttribute("href"),width:t.dataset.lightboxWidth,height:t.dataset.lightboxHeight,title:e,caption:i,element:t};t.querySelector("img")&&(o.msrc=t.querySelector("img").getAttribute("src")),n.push(o)}),0<n.length){const i=new PhotoSwipeLightbox({dataSource:n,spacing:.12,bgOpacity:1,showHideAnimationType:"zoom",pswpModule:PhotoSwipe});new PhotoSwipeDynamicCaption(i,{type:"auto",captionContent:t=>{t=t.data;let e="";return t.title&&""!==t.title&&(e+='<div class="pswp__dynamic-caption__title">'+t.title+"</div>"),t.caption&&""!==t.caption&&(e+='<div class="pswp__dynamic-caption__subtitle">'+t.caption+"</div>"),e}}),i.on("firstUpdate",()=>{i.pswp.element.ariaModal=!0}),i.init(),i.loadAndOpen(e)}}})})});